{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mfs/Desktop/web_apps/greenly/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mfs/Desktop/web_apps/greenly/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mfs/Desktop/web_apps/greenly/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from\"react\";import Button from\"@material-ui/core/Button\";import GreenlyLogo from\"../../assets/Greenly_logo.png\";import{TextField,Typography,Dialog,DialogTitle,DialogContent,DialogActions}from\"@material-ui/core\";import{addEmail}from\"../../API\";import\"./Main.scss\";export var Main=function Main(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),successModalOpen=_useState4[0],setSuccessModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var handleEmailChange=function handleEmailChange(event){var el=event.target;var value=el.value;setEmail(value);};var handleEmailSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!email){_context.next=7;break;}setLoading(true);_context.next=4;return addEmail(email);case 4:res=_context.sent;console.log(res);if(res.status===201){setEmail(\"\");setSuccessModalOpen(true);setLoading(false);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleEmailSubmit(_x){return _ref.apply(this,arguments);};}();var clickOpen=function clickOpen(){setSuccessModalOpen(true);};var clickClose=function clickClose(){setSuccessModalOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:props.className,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"Coming-soon\",children:\"COMING SOON...\"}),/*#__PURE__*/_jsx(\"img\",{src:GreenlyLogo,alt:\"logo\",className:\"Logo\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Typography,{className:\"Text-body\",children:[\"For centuries, our fossil fuel civilization has pushed the world off balance.\",/*#__PURE__*/_jsx(\"br\",{}),\"We're here to steer our planet back towards a more sustainable equilibrium and, ultimately, a Green Revolution - the next step in humanity's progress towards a future unconstrained by carbon emissions and their ecological consequences.\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"Join-us\",children:\"Join us and fight for our planet\"}),/*#__PURE__*/_jsx(\"form\",{className:\"Form\",children:/*#__PURE__*/_jsx(TextField,{className:\"Email-submit\",variant:\"filled\",label:\"Submit your email for an invite\",color:\"primary\",InputProps:{endAdornment:/*#__PURE__*/_jsx(SubmitButton,{onSubmit:handleEmailSubmit,disabled:loading?true:false})},margin:\"none\",onChange:handleEmailChange,value:email})})]}),/*#__PURE__*/_jsx(EmailSuccessModal,{open:successModalOpen,clickOpen:clickOpen,clickClose:clickClose})]});};// Submit Button\nvar SubmitButton=function SubmitButton(_ref2){var onSubmit=_ref2.onSubmit,disabled=_ref2.disabled;return/*#__PURE__*/_jsx(Button,{onClick:onSubmit,style:{height:\"100%\"},disableElevation:true,disabled:disabled,children:\"Submit\"});};var EmailSuccessModal=function EmailSuccessModal(_ref3){var open=_ref3.open,clickClose=_ref3.clickClose,clickOpen=_ref3.clickOpen;return/*#__PURE__*/_jsxs(Dialog,{open:open,onEscapeKeyDown:clickClose,onBackdropClick:clickClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Email confirmation\"}),/*#__PURE__*/_jsx(DialogContent,{children:\"Email Submitted Successfully!\"}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:clickClose,children:\"Confirm\"})})]});};","map":{"version":3,"sources":["/Users/mfs/Desktop/web_apps/greenly/front/src/components/LandingPage/Main.tsx"],"names":["React","useState","Button","GreenlyLogo","TextField","Typography","Dialog","DialogTitle","DialogContent","DialogActions","addEmail","Main","props","email","setEmail","successModalOpen","setSuccessModalOpen","loading","setLoading","handleEmailChange","event","el","target","value","handleEmailSubmit","res","console","log","status","clickOpen","clickClose","className","endAdornment","SubmitButton","onSubmit","disabled","height","EmailSuccessModal","open"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport GreenlyLogo from \"../../assets/Greenly_logo.png\";\nimport {\n  TextField,\n  Typography,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { addEmail } from \"../../API\";\nimport \"./Main.scss\";\n\ntype MainProps = {\n  className: string;\n};\n\nexport const Main = (props: MainProps) => {\n  const [email, setEmail] = useState(\"\");\n  const [successModalOpen, setSuccessModalOpen] = useState<boolean>(false);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const handleEmailChange = (\n    event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    const el = event.target as HTMLTextAreaElement;\n    const value = el.value;\n    setEmail(value);\n  };\n\n  const handleEmailSubmit = async (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    if (email) {\n      setLoading(true);\n      const res = await addEmail(email);\n      console.log(res);\n      if (res.status === 201) {\n        setEmail(\"\");\n        setSuccessModalOpen(true);\n        setLoading(false);\n      }\n    }\n  };\n\n  const clickOpen = () => {\n    setSuccessModalOpen(true);\n  };\n\n  const clickClose = () => {\n    setSuccessModalOpen(false);\n  };\n\n  return (\n    <div className={props.className}>\n      <div className=\"Content\">\n        <p className=\"Coming-soon\">COMING SOON...</p>\n        <img src={GreenlyLogo} alt=\"logo\" className=\"Logo\" />\n        <br />\n        <br />\n        <Typography className=\"Text-body\">\n          For centuries, our fossil fuel civilization has pushed the world off\n          balance.\n          <br />\n          We're here to steer our planet back towards a more sustainable\n          equilibrium and, ultimately, a Green Revolution - the next step in\n          humanity's progress towards a future unconstrained by carbon emissions\n          and their ecological consequences.\n        </Typography>\n        <p className=\"Join-us\">Join us and fight for our planet</p>\n        <form className=\"Form\">\n          <TextField\n            className=\"Email-submit\"\n            variant=\"filled\"\n            label=\"Submit your email for an invite\"\n            color=\"primary\"\n            InputProps={{\n              endAdornment: (\n                <SubmitButton\n                  onSubmit={handleEmailSubmit}\n                  disabled={loading ? true : false}\n                />\n              ),\n            }}\n            margin=\"none\"\n            onChange={handleEmailChange}\n            value={email}\n          ></TextField>\n        </form>\n      </div>\n      <EmailSuccessModal\n        open={successModalOpen}\n        clickOpen={clickOpen}\n        clickClose={clickClose}\n      />\n    </div>\n  );\n};\n\n// Submit Button\ntype SubmitProps = {\n  onSubmit:\n    | ((event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void)\n    | undefined;\n  disabled: boolean;\n};\n\nconst SubmitButton = ({ onSubmit, disabled }: SubmitProps) => {\n  return (\n    <Button\n      onClick={onSubmit}\n      style={{\n        height: \"100%\",\n      }}\n      disableElevation\n      disabled={disabled}\n    >\n      Submit\n    </Button>\n  );\n};\n\ninterface IEmailSuccessModal {\n  open: boolean;\n  clickOpen: () => void;\n  clickClose: () => void;\n}\n\nconst EmailSuccessModal = ({\n  open,\n  clickClose,\n  clickOpen,\n}: IEmailSuccessModal) => {\n  return (\n    <Dialog\n      open={open}\n      onEscapeKeyDown={clickClose}\n      onBackdropClick={clickClose}\n    >\n      <DialogTitle>Email confirmation</DialogTitle>\n      <DialogContent>Email Submitted Successfully!</DialogContent>\n      <DialogActions>\n        <Button onClick={clickClose}>Confirm</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}